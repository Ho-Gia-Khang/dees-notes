FROM node:22-alpine

WORKDIR /default-gateway

COPY ./default-gateway .

RUN npm install 
RUN npm run build

WORKDIR /default-gateway/src

ENV port=3000
EXPOSE 3000

CMD ["npm", "run", "start"]