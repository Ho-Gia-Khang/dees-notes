FROM node:22-alpine

WORKDIR /default-gateway

COPY ./default-gateway .

RUN npm install 
RUN npm run build

WORKDIR /default-gateway/src

ENV port=3001
EXPOSE 3001

CMD ["npm", "run", "start"]